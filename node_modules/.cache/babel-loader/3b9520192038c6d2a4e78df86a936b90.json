{"ast":null,"code":"var _jsxFileName = \"/Users/vivedhajoseph/react/quotes-app-frontend/src/App.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const [quotes, setQuotes] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [errors, setErrors] = useState(null);\n  useEffect(() => {\n    setLoading(true);\n    fetch(\"http://127.0.0.1:8000/api/quotes\", {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      }\n    }).then(response => {\n      setLoading(false);\n      return response.json();\n    }).then(quotes => setQuotes(quotes), errors => setErrors(errors)); // .then(quotes => setQuotes(quotes.message), errors => setErrors(errors));\n  }, []);\n  const navigate = useNavigate();\n\n  if (!sessionStorage.getItem('access-token')) {\n    return navigate(\"/login\");\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Fetching Simpson Quotes...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 17\n    }, this), errors && JSON.stringify(errors), quotes && quotes.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: // quotes.map((quote, index) => { return <div key={index}>{quote.quote}</div> })\n      quotes.map((quote, index) => {\n        return /*#__PURE__*/_jsxDEV(\"img\", {\n          alt: \"\",\n          src: quote.image\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 49\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 10\n  }, this);\n};\n\n_s(App, \"JspVOoc0hrsSA2YhZF0jUmazJYM=\", false, function () {\n  return [useNavigate];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useEffect","useState","useNavigate","App","quotes","setQuotes","loading","setLoading","errors","setErrors","fetch","method","headers","then","response","json","navigate","sessionStorage","getItem","JSON","stringify","length","map","quote","index","image"],"sources":["/Users/vivedhajoseph/react/quotes-app-frontend/src/App.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./App.css\";\n\n\nconst App = () => {\n  const [quotes, setQuotes] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [errors, setErrors] = useState(null);\n\n  useEffect(() => {\n    setLoading(true);\n    fetch(\"http://127.0.0.1:8000/api/quotes\", {\n        method: 'GET',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        }\n    })\n    .then(response => {\n      setLoading(false);\n      return response.json();\n    })\n    .then(quotes => setQuotes(quotes), errors => setErrors(errors));\n    // .then(quotes => setQuotes(quotes.message), errors => setErrors(errors));\n  }, []);\n  \n  const navigate = useNavigate();\n  \n  if(!sessionStorage.getItem('access-token')) {\n    return navigate(\"/login\");\n  }\n\n  return <div>\n    {loading && <div>Fetching Simpson Quotes...</div>}\n    {errors && JSON.stringify(errors)}\n    {quotes && quotes.length > 0 && (\n      <div>\n        {\n          // quotes.map((quote, index) => { return <div key={index}>{quote.quote}</div> })\n          quotes.map((quote, index) => { return <img alt=\"\" key={index} src={quote.image}/> })\n        }\n      </div>\n    )}\n  </div>\n\n}\n\nexport default App;\n"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,OAAO,WAAP;;;AAGA,MAAMC,GAAG,GAAG,MAAM;EAAA;;EAChB,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBJ,QAAQ,CAAC,EAAD,CAApC;EACA,MAAM,CAACK,OAAD,EAAUC,UAAV,IAAwBN,QAAQ,CAAC,KAAD,CAAtC;EACA,MAAM,CAACO,MAAD,EAASC,SAAT,IAAsBR,QAAQ,CAAC,IAAD,CAApC;EAEAD,SAAS,CAAC,MAAM;IACdO,UAAU,CAAC,IAAD,CAAV;IACAG,KAAK,CAAC,kCAAD,EAAqC;MACtCC,MAAM,EAAE,KAD8B;MAEtCC,OAAO,EAAE;QACL,UAAU,kBADL;QAEL,gBAAgB;MAFX;IAF6B,CAArC,CAAL,CAOCC,IAPD,CAOMC,QAAQ,IAAI;MAChBP,UAAU,CAAC,KAAD,CAAV;MACA,OAAOO,QAAQ,CAACC,IAAT,EAAP;IACD,CAVD,EAWCF,IAXD,CAWMT,MAAM,IAAIC,SAAS,CAACD,MAAD,CAXzB,EAWmCI,MAAM,IAAIC,SAAS,CAACD,MAAD,CAXtD,EAFc,CAcd;EACD,CAfQ,EAeN,EAfM,CAAT;EAiBA,MAAMQ,QAAQ,GAAGd,WAAW,EAA5B;;EAEA,IAAG,CAACe,cAAc,CAACC,OAAf,CAAuB,cAAvB,CAAJ,EAA4C;IAC1C,OAAOF,QAAQ,CAAC,QAAD,CAAf;EACD;;EAED,oBAAO;IAAA,WACJV,OAAO,iBAAI;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADP,EAEJE,MAAM,IAAIW,IAAI,CAACC,SAAL,CAAeZ,MAAf,CAFN,EAGJJ,MAAM,IAAIA,MAAM,CAACiB,MAAP,GAAgB,CAA1B,iBACC;MAAA,UAEI;MACAjB,MAAM,CAACkB,GAAP,CAAW,CAACC,KAAD,EAAQC,KAAR,KAAkB;QAAE,oBAAO;UAAK,GAAG,EAAC,EAAT;UAAwB,GAAG,EAAED,KAAK,CAACE;QAAnC,GAAiBD,KAAjB;UAAA;UAAA;UAAA;QAAA,QAAP;MAAoD,CAAnF;IAHJ;MAAA;MAAA;MAAA;IAAA,QAJG;EAAA;IAAA;IAAA;IAAA;EAAA,QAAP;AAaD,CAzCD;;GAAMrB,G;UAsBaD,W;;;KAtBbC,G;AA2CN,eAAeA,GAAf"},"metadata":{},"sourceType":"module"}