{"ast":null,"code":"var _jsxFileName = \"/Users/vivedhajoseph/react/quotes-app-frontend/src/Login.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\"; // import logo from \"./assets/logo.png\";\n\nimport { useNavigate } from \"react-router-dom\";\nimport \"./App.css\";\n/* \n\n1. User enters creds\n2. Make login API call\n3. If true, store access token in session storage and navigate to App.js\n4. If false, show error message from API\n\n*/\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    console.log(username);\n    console.log(password);\n    fetch(\"http://127.0.0.1:8000/api/login\", {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        user: username,\n        password\n      })\n    }).then(response => response.json()).then(result => {\n      sessionStorage.setItem(\"access-token\", result.access_token);\n      navigate(\"/\");\n    }, error => alert(error));\n    sessionStorage.setItem(\"access-token\", \"Logged IN!!\");\n    navigate(\"/\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"form\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"username\",\n          required: true,\n          onChange: event => setUsername(event.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          required: true,\n          onChange: event => setPassword(event.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"primary\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 10\n  }, this);\n};\n\n_s(App, \"EgYjDAoSBrLcIIdUzvjslMz3nCA=\", false, function () {\n  return [useNavigate];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useNavigate","App","navigate","username","setUsername","password","setPassword","handleSubmit","e","preventDefault","console","log","fetch","method","headers","body","JSON","stringify","user","then","response","json","result","sessionStorage","setItem","access_token","error","alert","event","target","value"],"sources":["/Users/vivedhajoseph/react/quotes-app-frontend/src/Login.js"],"sourcesContent":["import { useState } from \"react\";\n// import logo from \"./assets/logo.png\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./App.css\";\n\n/* \n\n1. User enters creds\n2. Make login API call\n3. If true, store access token in session storage and navigate to App.js\n4. If false, show error message from API\n\n*/\n\nconst App = () => {\n\n  const navigate = useNavigate();\n\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    console.log(username);\n    console.log(password);\n\n    fetch(\"http://127.0.0.1:8000/api/login\", {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({ user: username, password })\n    })\n      .then(response => response.json())\n      .then(result => {\n        sessionStorage.setItem(\"access-token\", result.access_token);\n        navigate(\"/\");\n      }, error => alert(error))\n\n    sessionStorage.setItem(\"access-token\", \"Logged IN!!\");\n    navigate(\"/\");\n\n  };\n\n  return <div className=\"App\">\n    <form className=\"form\" onSubmit={handleSubmit}>\n      <div className=\"input-group\">\n        <label htmlFor=\"email\">Username</label>\n        <input name=\"username\" required onChange={event => setUsername(event.target.value)} />\n      </div>\n      <div className=\"input-group\">\n        <label htmlFor=\"password\">Password</label>\n        <input type=\"password\" name=\"password\" required onChange={event => setPassword(event.target.value)} />\n      </div>\n      <button className=\"primary\">Login</button>\n    </form>\n  </div>\n}\n\n\nexport default App;\n"],"mappings":";;;AAAA,SAASA,QAAT,QAAyB,OAAzB,C,CACA;;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,OAAO,WAAP;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAEA,MAAMC,GAAG,GAAG,MAAM;EAAA;;EAEhB,MAAMC,QAAQ,GAAGF,WAAW,EAA5B;EAEA,MAAM,CAACG,QAAD,EAAWC,WAAX,IAA0BL,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM,CAACM,QAAD,EAAWC,WAAX,IAA0BP,QAAQ,CAAC,EAAD,CAAxC;;EAGA,MAAMQ,YAAY,GAAGC,CAAC,IAAI;IACxBA,CAAC,CAACC,cAAF;IACAC,OAAO,CAACC,GAAR,CAAYR,QAAZ;IACAO,OAAO,CAACC,GAAR,CAAYN,QAAZ;IAEAO,KAAK,CAAC,iCAAD,EAAoC;MACvCC,MAAM,EAAE,MAD+B;MAEvCC,OAAO,EAAE;QACP,UAAU,kBADH;QAEP,gBAAgB;MAFT,CAF8B;MAMvCC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;QAAEC,IAAI,EAAEf,QAAR;QAAkBE;MAAlB,CAAf;IANiC,CAApC,CAAL,CAQGc,IARH,CAQQC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EARpB,EASGF,IATH,CASQG,MAAM,IAAI;MACdC,cAAc,CAACC,OAAf,CAAuB,cAAvB,EAAuCF,MAAM,CAACG,YAA9C;MACAvB,QAAQ,CAAC,GAAD,CAAR;IACD,CAZH,EAYKwB,KAAK,IAAIC,KAAK,CAACD,KAAD,CAZnB;IAcAH,cAAc,CAACC,OAAf,CAAuB,cAAvB,EAAuC,aAAvC;IACAtB,QAAQ,CAAC,GAAD,CAAR;EAED,CAtBD;;EAwBA,oBAAO;IAAK,SAAS,EAAC,KAAf;IAAA,uBACL;MAAM,SAAS,EAAC,MAAhB;MAAuB,QAAQ,EAAEK,YAAjC;MAAA,wBACE;QAAK,SAAS,EAAC,aAAf;QAAA,wBACE;UAAO,OAAO,EAAC,OAAf;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,eAEE;UAAO,IAAI,EAAC,UAAZ;UAAuB,QAAQ,MAA/B;UAAgC,QAAQ,EAAEqB,KAAK,IAAIxB,WAAW,CAACwB,KAAK,CAACC,MAAN,CAAaC,KAAd;QAA9D;UAAA;UAAA;UAAA;QAAA,QAFF;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAKE;QAAK,SAAS,EAAC,aAAf;QAAA,wBACE;UAAO,OAAO,EAAC,UAAf;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,eAEE;UAAO,IAAI,EAAC,UAAZ;UAAuB,IAAI,EAAC,UAA5B;UAAuC,QAAQ,MAA/C;UAAgD,QAAQ,EAAEF,KAAK,IAAItB,WAAW,CAACsB,KAAK,CAACC,MAAN,CAAaC,KAAd;QAA9E;UAAA;UAAA;UAAA;QAAA,QAFF;MAAA;QAAA;QAAA;QAAA;MAAA,QALF,eASE;QAAQ,SAAS,EAAC,SAAlB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QATF;IAAA;MAAA;MAAA;MAAA;IAAA;EADK;IAAA;IAAA;IAAA;EAAA,QAAP;AAaD,CA7CD;;GAAM7B,G;UAEaD,W;;;KAFbC,G;AAgDN,eAAeA,GAAf"},"metadata":{},"sourceType":"module"}